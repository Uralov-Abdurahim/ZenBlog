{% extends 'layouts/base.html' %}
{% load static %}
{% load i18n %}
{% block content %}
    <!-- Page Title -->
    <div class="page-title position-relative">
      <div class="container d-lg-flex justify-content-between align-items-center">
        <h1 class="mb-2 mb-lg-0">{% trans 'Category' %}</h1>
        <nav class="breadcrumbs">
          <ol>
            <li><a href="{% url 'home' %}">{% trans 'Home' %}</a></li>
            <li class="current">{% trans 'Categories' %}</li>
          </ol>
        </nav>
      </div>
    </div><!-- End Page Title -->

    <div class="container">
      <div class="row">

        <div class="col-lg-8">

          <!-- Blog Posts Section -->
          <section id="blog-posts" class="blog-posts section">

            <div class="container" >
              <div class="row gy-4" >
              {% for i in categories %}
                <div class="col-lg-6" >
                  <article class="position-relative h-100">

                    <div class="post-img position-relative overflow-hidden">
                      <img src="{{i.image.url}}" class="img-fluid" alt="">
                      <span class="post-date">{{i.created_at|date:"d M Y"}}</span>
                    </div>

                    <div class="post-content d-flex flex-column">

                      <h3 class="post-title">{{i.title}}</h3>

                      <div class="meta d-flex align-items-center">
                        <div class="d-flex align-items-center">
                          <i class="bi bi-person"></i> <span class="ps-2">{{i.author}}</span>
                        </div>
                        <span class="px-3 text-black-50">/</span>
                        <div class="d-flex align-items-center">
                          {% for tag in i.tag.all %}
                          <i class="bi bi-folder2"></i> <span class="ps-2">{{tag.name}}</span>
                          {% endfor %}
                        </div>
                      </div>

                      <p>
                        {{i.sub_title|truncatewords:30}}
                      </p>

                      <hr>

                      <a href="{% url 'category_detail' i.pk %}" class="readmore stretched-link"><span>{% trans 'Read More' %}</span><i class="bi bi-arrow-right"></i></a>

                    </div>
                
                  </article>
                </div><!-- End post list item -->
                {% endfor %}
         

                  
            

              </div>
            </div>

          </section><!-- /Blog Posts Section -->

          <!-- Blog Pagination Section -->
          <section id="blog-pagination" class="blog-pagination section">

            
            <div class="pagination">
              {% if blogs.has_previous %}
                <a href="?page={{ blogs.previous_page_number }}">{% trans 'Previous' %}</a>
              {% endif %}
            
              <span>{% trans 'Page' %} {{ blogs.number }} / {{ blogs.paginator.num_pages }}</span>
            
              {% if blogs.has_next %}
                <a href="?page={{ blogs.next_page_number }}">{% trans 'Next' %}</a>
              {% endif %}
            </div>
            <!--<div class="container">
              <div class="d-flex justify-content-center">
                <ul>
                  <li><a href="#"><i class="bi bi-chevron-left"></i></a></li>
                  <li><a href="#">1</a></li>
                  <li><a href="#" class="active">2</a></li>
                  <li><a href="#">3</a></li>
                  <li><a href="#">4</a></li>
                  <li>...</li>
                  <li><a href="#">10</a></li>
                  <li><a href="#"><i class="bi bi-chevron-right"></i></a></li>
                </ul>
              </div>
            </div>-->

          </section><!-- /Blog Pagination Section -->

        </div>

        <div class="col-lg-4 sidebar">

          <div class="widgets-container">

            <!-- Blog Author Widget 2 -->
           <!-- <div class="blog-author-widget-2 widget-item">

              <div class="d-flex flex-column align-items-center">
                <img src="assets/img/blog/blog-author.jpg" class="rounded-circle flex-shrink-0" alt="">
                <h4>Jane Smith</h4>
                <div class="social-links">
                  <a href="https://x.com/#"><i class="bi bi-twitter-x"></i></a>
                  <a href="https://facebook.com/#"><i class="bi bi-facebook"></i></a>
                  <a href="https://instagram.com/#"><i class="biu bi-instagram"></i></a>
                  <a href="https://instagram.com/#"><i class="biu bi-linkedin"></i></a>
                </div>

                <p>
                  Itaque quidem optio quia voluptatibus dolorem dolor. Modi eum sed possimus accusantium. Quas repellat voluptatem officia numquam sint aspernatur voluptas. Esse et accusantium ut unde voluptas.
                </p>

              </div>
            </div>--><!--/Blog Author Widget 2 -->

            <!-- Search Widget -->
            <div class="search-widget widget-item">

              <h3 class="widget-title">{% trans 'Search' %}</h3>
              <form method="get" action="{% url 'category_list' %}"  class="search-form mb-4">
                <input type="text" name="q" value="{{ query }}">
                <button type="submit" title="Search"><i class="bi bi-search"></i></button>
              </form>

            </div><!--/Search Widget -->

            <!-- Recent Posts Widget -->
           <!-- <div class="recent-posts-widget widget-item">

              <h3 class="widget-title">Recent Posts</h3>

              <div class="post-item">
                <img src="assets/img/blog/blog-recent-1.jpg" alt="" class="flex-shrink-0">
                <div>
                  <h4><a href="blog-details.html">Nihil blanditiis at in nihil autem</a></h4>
                  <time datetime="2020-01-01">Jan 1, 2020</time>
                </div>
              </div>--><!-- End recent post item-->

              

            <!--</div>--><!--/Recent Posts Widget -->

            <!-- Tags Widget -->
            <div class="tags-widget widget-item">

              
              <h3 class="widget-title">{% trans 'Tags' %}</h3>
              {% for category in categories %}
              {% for tag in category.tag.all %}
              <ul>
                <li><a href="{% url 'tag_blogs' tag.pk %}">{{tag.name}}</a></li>
              </ul>
              {% endfor %}
              {% endfor %}

            </div><!--/Tags Widget -->

          </div>

        </div>

      </div>
    </div>

  </main>
{% endblock %}